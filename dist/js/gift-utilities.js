"use strict";(function(){function a(a){if("undefined"==typeof a)var a={};var b=a.calculateAsMonthly||!1,c=s.getUrlParameter("ask")||s.getSessionValue("urlAsk");if(c){s.setSessionValue("urlAsk",c);var d,e,f=[],g=c.split("|");if(g){for(var h=0;h<g.length;h++)e=g[h],b&&(e=p(e,a)),d=""+e,j(g[h])&&(d=l(d)),f.push(d);return f}}return null}function b(a){if("undefined"==typeof a)var a={};var b=a.minimumDynamicStart||35,d=a.maximumDynamicStart||500,e=a.dynamicFormula||[1,1.25,1.5,1.75,2],f=a.calculateAsMonthly||!1,g=a.basicRounding||!1,h=s.getUrlParameter("ask_start")||s.getSessionValue("urlAskStart");if(h=n(h),h&&h>=b&&h<=d){s.setSessionValue("urlAskStart",h);var k,m,o=[],t=c();if(t||(t=e),t){for(var u=0;u<t.length;u++)m=h*n(t[u]),f&&(m=p(m,a)),m=g?r(m):q(m),k=""+m,j(t[u])&&(k=l(k)),o.push(k);return o}}return null}function c(){var a=s.getUrlParameter("ask_inc")||s.getSessionValue("urlFormulaString");if(a){s.setSessionValue("urlFormulaString",a);var b=a.split("|");if(0<b.length)return b}return null}function d(a,b){if("undefined"==typeof a)var a=[];if("undefined"==typeof b)var b={};var c=b.minimumGiftAmount||5,d=m(a);a.sort(function(a,b){return n(a)-n(b)});for(var e,f,g=[],h=null,p=!1,q=0;q<a.length;q++)f=n(a[q]),f>=c&&(f<=h&&(f=h+2),e=o(f),j(a[q])&&(p?e=k(e):(e=l(e),p=!0)),g.push(e),h=f);if(d&&g.sort(function(a,b){return n(b)-n(a)}),0<g.length){if(!p){var r=parseInt(.33*g.length),s=l(g[r]);g[r]=s}return g}return null}function e(){var a=s.getUrlParameter("ask_selected")||s.getSessionValue("urlAskSelectAmount");return(a=parseInt(a),isNaN(a))?null:(s.setSessionValue("urlAskSelectAmount",a),a)}function f(){var a=s.getUrlParameter("ask_selected_level")||s.getSessionValue("urlAskSelectPosition");return(a=parseInt(a),isNaN(a))?null:(s.setSessionValue("urlAskSelectPosition",a),a)}function g(a,b){var c,d=[],e=!1;b=n(b);for(var f=0;f<a.length;f++)n(a[f])==b?(c=l(a[f]),e=!0):c=k(a[f]),d.push(c);return e?d:a}function h(a,b){for(var c,d=[],e=!1,f=0;f<a.length;f++)f==b-1?(c=l(a[f]),e=!0):c=k(a[f]),d.push(c);return e?d:a}function j(a){return a=""+a,-1<a.indexOf("*")}function k(a){return a=""+a,a.replace(/\*/g,"")}function l(a){return a=""+a,j(a)||(a+="*"),a}function m(a){var b=a.slice(0);if("undefined"==typeof b)return window.console&&console.warn("isMostlyDescending() given an undefined list value"),null;for(var c,d=0;d<b.length;d++)c=n(b[d]),isNaN(c)||(b[d]=c);for(var e,f=0,g=0,h=b[0],d=1;d<b.length;d++)e=b[d],h>e?g++:h<e&&f++,h=e;return b[0]>b[b.length-1]?g++:b[0]<b[b.length-1]&&f++,!!(g>f)}function n(a){if("undefined"==typeof a)var a="";return a=""+a,parseFloat(a.replace(/[^0-9|\.]/g,""))}function o(a){a=""+a;var b=n(a);return b=b.toFixed(2),b=b.replace(/\.00$/g,""),b}function p(a,b){if("undefined"==typeof b)var b={};var c=b.monthlyIncreaseGoal||1.25,d=b.minimumGiftAmount||5,e=b.basicRounding||!1,f=n(a);if(0>=f)return a;var g=f*c/12;return g=g<d?d:g,g=e?r(g):q(g),g}function q(a){var b=parseFloat(a);return isNaN(b)?a:15>b?i(b,1):150>b?i(b,5):250>b?i(b,10):i(b,25)}function i(a,b){a=r(a);var c=r(a/b)*b;return c<a&&(c+=b),c}var r=Math.round;window.console&&console.log("gift-utilities.js v18.7.17"),window.mwdspace=window.mwdspace||{};var s=window.mwdspace.sharedUtils;window.mwdspace.giftUtils=window.mwdspace.giftUtils||{};var t=window.mwdspace.giftUtils;t.processGiftStringList=function(c){if("undefined"==typeof c)var c={};var j=c.calculateAsMonthly||!1,k=[];if(c.giftStringList instanceof Array)for(var l=0;l<c.giftStringList.length;l++)k.push(c.giftStringList[l]),j&&(k[l]=p(k[l],c));var m=a(c);if(m)k=m,window.console&&console.log("Note: Using replacement ask string.");else{var n=b(c);n&&(k=n,window.console&&console.log("Note: Using dynamic ask string."))}var o=e();if(o)k=g(k,o),window.console&&console.log("Note: Pre-selecting by amount.");else{var q=f();q&&(k=h(k,q),window.console&&console.log("Note: Pre-selecting by position."))}return k=d(k,c),k||(window.console&&console.warn("Note: Using backup ask string"),k=["25","50*","75","100"]),k}})();