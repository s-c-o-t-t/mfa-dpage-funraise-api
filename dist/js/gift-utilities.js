"use strict";(function(){function a(a){if("undefined"==typeof a)var a={};var b=a.calculateAsMonthly||!1,c=u.getUrlParameter("ask")||s("urlAsk");if(c){r("urlAsk",c);var d,e,f=[],g=c.split("|");if(g){for(var h=0;h<g.length;h++)e=g[h],b&&(e=p(e,a)),d=""+e,j(g[h])&&(d=l(d)),f.push(d);return f}}return null}function b(a){if("undefined"==typeof a)var a={};var b=a.minimumDynamicStart||35,d=a.maximumDynamicStart||500,e=a.dynamicFormula||[1,1.25,1.5,1.75,2],f=a.calculateAsMonthly||!1,g=a.basicRounding||!1,h=u.getUrlParameter("ask_start")||s("urlAskStart");if(h=n(h),h&&h>=b&&h<=d){r("urlAskStart",h);var k,m,o=[],v=c();if(v||(v=e),v){for(var w=0;w<v.length;w++)m=h*n(v[w]),f&&(m=p(m,a)),m=g?t(m):q(m),k=""+m,j(v[w])&&(k=l(k)),o.push(k);return o}}return null}function c(){var a=u.getUrlParameter("ask_inc")||s("urlFormulaString");if(a){r("urlFormulaString",a);var b=a.split("|");if(0<b.length)return b}return null}function d(a,b){if("undefined"==typeof a)var a=[];if("undefined"==typeof b)var b={};var c=b.minimumGiftAmount||5,d=m(a);a.sort(function(a,b){return n(a)-n(b)});for(var e,f,g=[],h=null,p=!1,q=0;q<a.length;q++)f=n(a[q]),f>=c&&(f<=h&&(f=h+2),e=o(f),j(a[q])&&(p?e=k(e):(e=l(e),p=!0)),g.push(e),h=f);if(d&&g.sort(function(a,b){return n(b)-n(a)}),0<g.length){if(!p){var r=parseInt(.33*g.length),s=l(g[r]);g[r]=s}return g}return null}function e(){var a=u.getUrlParameter("ask_selected")||s("urlAskSelectAmount");return(a=parseInt(a),isNaN(a))?null:(r("urlAskSelectAmount",a),a)}function f(){var a=u.getUrlParameter("ask_selected_level")||s("urlAskSelectPosition");return(a=parseInt(a),isNaN(a))?null:(r("urlAskSelectPosition",a),a)}function g(a,b){var c,d=[],e=!1;b=n(b);for(var f=0;f<a.length;f++)n(a[f])==b?(c=l(a[f]),e=!0):c=k(a[f]),d.push(c);return e?d:a}function h(a,b){for(var c,d=[],e=!1,f=0;f<a.length;f++)f==b-1?(c=l(a[f]),e=!0):c=k(a[f]),d.push(c);return e?d:a}function j(a){return a=""+a,-1<a.indexOf("*")}function k(a){return a=""+a,a.replace(/\*/g,"")}function l(a){return a=""+a,j(a)||(a+="*"),a}function m(a){var b=a.slice(0);if("undefined"==typeof b)return console.warn("isMostlyDescending() given an undefined list value"),null;for(var c,d=0;d<b.length;d++)c=n(b[d]),isNaN(c)||(b[d]=c);for(var e,f=0,g=0,h=b[0],d=1;d<b.length;d++)e=b[d],h>e?g++:h<e&&f++,h=e;return b[0]>b[b.length-1]?g++:b[0]<b[b.length-1]&&f++,!!(g>f)}function n(a){if("undefined"==typeof a)var a="";return a=""+a,parseFloat(a.replace(/[^0-9|\.]/g,""))}function o(a){a=""+a;var b=n(a);return b=b.toFixed(2),b=b.replace(/\.00$/g,""),b}function p(a,b){if("undefined"==typeof b)var b={};var c=b.monthlyIncreaseGoal||1.25,d=b.minimumGiftAmount||5,e=b.basicRounding||!1;if(cleanAmount=n(a),0>=cleanAmount)return a;var f=cleanAmount*c/12;return f=f<d?d:f,f=e?t(f):q(f),f}function q(a){var b=parseFloat(a);return isNaN(b)?a:15>b?roundUpTo(b,1):150>b?roundUpTo(b,5):250>b?roundUpTo(b,10):roundUpTo(b,25)}function r(a,b){var c=v()+"_"+a;return u.setSessionValue(c,b)}function s(a){var b=v()+"_"+a;return u.getSessionValue(b)}var t=Math.round;console.log("gift-utilities.js v18.7.9c"),window.mwdspace=window.mwdspace||{};var u=window.mwdspace.sharedUtils;window.mwdspace.giftUtils=window.mwdspace.giftUtils||{};var i=window.mwdspace.giftUtils;i.processGiftStringList=function(c){if("undefined"==typeof c)var c={};var i=c.giftStringList||[],j=a(c);if(j)i=j,console.log("Note: Using replacement ask string.");else{var k=b(c);k&&(i=k,console.log("Note: Using dynamic ask string."))}var l=e();if(l)i=g(i,l),console.log("Note: Pre-selecting by amount.");else{var m=f();m&&(i=h(i,m),console.log("Note: Pre-selecting by position."))}return i=d(i),i||(console.warn("Note: Using backup ask string"),i=["25","50*","75","100"]),i};var v=function(){var a=(window.location.pathname+"").replace(/\W/g,"_");return"donate_"+a}})();