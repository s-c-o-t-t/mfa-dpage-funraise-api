console.log("mwd-donate-widget.js v18.7.1d"),window.mwdspace=window.mwdspace||{},window.mwdspace.MFA_Funraise_Widget=function(a){var b=this;if(b.options="object"==typeof a?a:{},b.targetElement={},b.isStarted=!1,b.codeVersion="1.0.0",b.mainStylesUrl=window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/css/mwd-donate-widget.css",b.mainHtmlUrl=window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/mwd-donate-widget.html",console.log("window.mwdspace.MFA_Funraise_Widget",b.codeVersion),b.options.loadingText||(b.options.loadingText="One moment..."),!b.options.element)return console.warn("Invalid options - No target element:",b.options),!1;var c=document.querySelectorAll(b.options.element);return c?void(b.targetElement=c[0]):(console.warn("Specified target element not found:",b.options.element),!1)},window.mwdspace.MFA_Funraise_Widget.prototype.start=async function(){var a=this;if(a.isStarted)return void console.warn("window.mwdspace.MFA_Funraise_Widget already started");a.isStarted=!0,console.log("window.mwdspace.MFA_Funraise_Widget start()",a.options),a.targetElement.innerHTML="";var b=a.options.styleSheets||a.mainStylesUrl;a.linkExternalStylesheet(b),a.linkExternalStylesheet("https://use.fontawesome.com/releases/v5.1.0/css/all.css",{integrity:"sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt",crossorigin:"anonymous"});var c,d,e=a.loadFile(a.mainHtmlUrl),f=a.linkExternalScript(window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/js/shared-utils.js");if([c,d]=await Promise.all([e,f]),!c)return void console.error("MFA_Funraise_Widget.start() - unable to load base HTML");console.warn("");var g=document.createElement("div");if(g.id="mfaDonationWidgetContainer",g.style.opacity=0,a.targetElement.appendChild(g),g.innerHTML=c,a.options.textOverride){var h={};if("string"==typeof a.options.textOverride)try{var i=await a.loadFile(a.options.textOverride);if(!i)return void console.error("MFA_Funraise_Widget.start() - unable to load text override data from file:",a.options.textOverride);h=window.mwdspace.sharedUtils.safeJsonParse(i)}catch(a){console.log("Caught error: ",a.message)}else h=a.options.textOverride;a.processTextOverride(h)}setTimeout(function(){g.className="reveal"},1),a.linkExternalScript(window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/js/business-logic-layer.js"),a.linkExternalScript(window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/js/transaction-system-layer.js");var j=await a.linkExternalScript("https://code.jquery.com/jquery-3.3.1.min.js",{integrity:"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=",crossorigin:"anonymous"});window.mwdspace.jquery=j?jQuery.noConflict():$||{},a.linkExternalScript(window.location.protocol+"//services.mwdagency.com/donate-widget/1.0.0/js/user-interface-layer.js")},window.mwdspace.MFA_Funraise_Widget.prototype.linkExternalStylesheet=function(a){var b=this,c=document.createElement("link");b.targetElement.appendChild(c),c.rel="stylesheet",c.type="text/css",c.addEventListener("error",function(b){console.error("linkExternalStylesheet() ERROR EVENT",a,b)}),c.addEventListener("abort",function(b){console.warn("linkExternalStylesheet() ABORT EVENT",a,b)}),c.href=encodeURI(a)},window.mwdspace.MFA_Funraise_Widget.prototype.linkExternalScript=function(a){var b=this;return new Promise(function(c){var d=document.createElement("script");b.targetElement.appendChild(d);var e=setTimeout(function(){console.log("linkExternalScript() No result after 2s",a),c(!1)},2e3);d.addEventListener("load",function(){clearTimeout(e),c(!0)}),d.addEventListener("error",function(b){clearTimeout(e),console.error("linkExternalScript() ERROR",a,b),c(!1)}),d.addEventListener("abort",function(b){clearTimeout(e),console.warn("linkExternalScript() ABORTED",a,b),c(!1)}),d.src=encodeURI(a)})},window.mwdspace.MFA_Funraise_Widget.prototype.loadFile=async function(a){this;return new Promise(async(b,c)=>{"undefined"==typeof a&&(console.warn("loadFile() given empty url"),c(null)),"string"!=typeof a&&(console.warn("loadFile() given invalid url type:",typeof a,a),c(null));var d=encodeURI(a),e=new XMLHttpRequest;e.addEventListener("load",function(c){console.log(">> loadFile() complete",a);var d=c.target.responseText||c.target.response||null;b(d)}),e.addEventListener("error",function(a){console.error("loadFile() ERROR EVENT",d,a),c(null)}),e.addEventListener("abort",function(a){console.warn("loadFile() ABORT EVENT",d,a),c(null)}),e.open("get",d,!0),e.send()})},window.mwdspace.MFA_Funraise_Widget.prototype.processTextOverride=function(a){var b=this;if("undefined"==typeof a)var a={};if("object"!=typeof a||!a)return console.log("MFA_Funraise_Widget.processTextOverride() given invalid object",typeof a),!1;console.warn("processTextOverride() input",a);var c;for(var d in a)if("object"==typeof a[d])for(var e in a[d])c=d+"."+e,b.setElementText(c,a[d][e])},window.mwdspace.MFA_Funraise_Widget.prototype.setElementText=function(a,b){console.warn("REPLACE",a,b);this;if("undefined"==typeof a)var a="";if(!a)return void console.warn("setElementText() given empty labelId");var c,d="[data-label-id=\""+a+"\"]",e=document.querySelectorAll(d);if(e)for(var f=0;f<e.length;f++)c=(e[f].tagName+"").toLowerCase(),console.warn(" >>",a,"=",c),"input"===c?e[f].setAttribute("placeholder",b):"label"===c||"span"===c||"h1"===c||"h2"===c||"h3"===c||"h4"===c||"h5"===c||"h6"===c||"p"===c?e[f].innerHTML=b:console.warn("setElementText(): Ignoring tag",a,c)};